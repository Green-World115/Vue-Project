webpackJsonp([1],{KNcu:function(n,t){},NHnr:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("7+uW"),o=e("Xxa5"),a=e.n(o),i=e("exGp"),s=e.n(i),c=e("uXeI"),u=e.n(c),l=e("mtWM"),d=e.n(l),p={name:"acc",data:function(){return{email:"",requestPending:!1,isSubmitted:!1,pwnedSummary:"",breaches:[]}},methods:{validateEmail:function(){return!!(this.email=this.email.trim())},checkAccount:function(n){var t=this;return s()(a.a.mark(function e(){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.validateEmail()&&!t.requestPending){e.next=3;break}return e.abrupt("return");case 3:return t.requestPending=!0,e.next=6,t.$glob.api.newLoadingController({content:"Fetching breach details..."});case 6:(r=e.sent).present(),d.a.get("https://haveibeenpwned.com/api/v2/breachedaccount/"+t.email+"?includeUnverified=true").then(function(n){t.breaches=n.data,t.buildPwnedSummary()}).catch(function(n){t.breaches=[],404===n.response.status?t.buildPwnedSummary():t.pwnedSummary="Oops something went wrong..."}).finally(function(){t.email="",t.isSubmitted=!0,t.requestPending=!1,r.dismiss()});case 9:case"end":return e.stop()}},e,t)}))()},formatDate:function(n){return(n=new Date(n)).getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]+" "+n.getFullYear()},getImageUrl:function(n){return"https://haveibeenpwned.com/Content/Images/PwnedLogos/"+n.Name+"."+n.LogoType},buildPwnedSummary:function(){this.breaches.length?this.pwnedSummary="<i>"+this.email+'</i> is\n                <strong>\n                   <ion-badge color="danger">pwned '+this.breaches.length+" times</ion-badge>\n                </strong>":this.pwnedSummary="<i>"+this.email+'</i> is\n                    <strong>\n                       <ion-badge color="success">NOT pwned</ion-badge>\n                    </strong>'}}},h={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ion-page",{staticClass:"ion-page"},[e("ion-header",[e("ion-toolbar",[e("ion-buttons",{attrs:{slot:"start"},slot:"start"},[e("ion-back-button")],1),n._v(" "),e("ion-title",[n._v("Account page")])],1)],1),n._v(" "),e("ion-content",{attrs:{padding:""}},[e("form",{attrs:{autocomplete:"off"},on:{submit:n.checkAccount}},[e("ion-input",{attrs:{type:"email",placehoder:"Email",value:n.email},on:{input:function(t){n.email=t.target.value}}}),n._v(" "),e("ion-button",{attrs:{expand:"full",type:"submit",disabled:!n.validateEmail()}},[n.requestPending?e("span",[e("ion-spinner")],1):e("span",[n._v("Have I been pwned?")])])],1),n._v(" "),e("div",[n.isSubmitted?e("ion-card",{attrs:{"no-margin":""}},[e("ion-card-content",[e("p",{attrs:{"text-center":""},domProps:{innerHTML:n._s(n.pwnedSummary)}})])],1):n._e(),n._v(" "),n._l(n.breaches,function(t,r){return e("ion-card",{key:r,attrs:{"no-margin":""}},[e("ion-card-content",[e("ion-card-title",[e("div",{staticClass:"breach-head"},[e("div",{staticClass:"breach-name"},[e("h1",[n._v(n._s(t.Title))])]),n._v(" "),e("div",{staticClass:"breach-image-holder"},[e("img",{attrs:{src:n.getImageUrl(t)}})])])]),n._v(" "),e("ion-grid",[e("ion-row",[e("ion-col",[e("ion-item",[e("ion-badge",{attrs:{color:"light"}},[n._v("\n                                        "+n._s(n.formatDate(t.BreachDate))+"\n                                    ")])],1)],1),n._v(" "),e("ion-col",[e("ion-item",[e("ion-icon",{attrs:{name:"people",color:"primary"}}),n._v(" "),e("ion-badge",[n._v("\n                                        "+n._s(t.PwnCount)+"\n                                    ")])],1)],1)],1)],1),n._v(" "),e("p",{domProps:{innerHTML:n._s(t.Description)}})],1)],1)})],2)])],1)},staticRenderFns:[]};var v=e("VU/8")(p,h,!1,function(n){e("KNcu")},null,null).exports,m={name:"pwd",data:function(){return{pwd:"",showPwd:!1,requestPending:!1,pwned:!1,count:0}},computed:{pwdType:function(){return this.showPwd?"text":"password"},showPwdText:function(){return this.showPwd?"hide":"show"}},methods:{goToAcc:function(){this.$glob.nav.push(v)},validatePwd:function(){return!!(this.pwd=this.pwd.trim())},togglePwdType:function(){this.showPwd=!this.showPwd},getURL:function(n){return"https://api.pwnedpasswords.com/range/"+n},checkHash:function(){this.validatePwd()&&!this.requestPending&&this.sendRequest()},sendRequest:function(){var n=this;return s()(a.a.mark(function t(){var e,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u()(n.pwd),t.next=3,n.$glob.api.newLoadingController({content:"Fetching breach details..."});case 3:(r=t.sent).present(),n.requestPending=!0,d.a.get(n.getURL(e.substr(0,5))).then(function(t){n.count=n.search(e.substr(5).toUpperCase(),t.data),n.pwned=n.count>0,n.notify()}).catch(function(n){console.log("Error:",n)}).finally(function(){n.pwd="",n.requestPending=!1,r.dismiss()});case 7:case"end":return t.stop()}},t,n)}))()},search:function(n,t){var e=t.indexOf(n);if(-1===e)return 0;var r=t.indexOf("\n",e);-1===r&&(r=t.substr(e).length);var o=t.substr(e,r-e).split(":");if(2!==o.length)throw new Error("Unexpected data");return o[1]},notify:function(){var n=["Yay!"],t="You are secure, for now...";this.pwned&&(n=["Doh!"],t="You've been pwned across "+this.count+" domains"),this.$glob.api.newAlertController({header:"Beep",subHeader:null,message:t,buttons:n}).then(function(n){return n.present()})}}},w={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ion-page",{staticClass:"ion-page"},[e("ion-header",[e("ion-toolbar",[e("ion-buttons",{attrs:{slot:"start"},slot:"start"},[e("ion-back-button")],1),n._v(" "),e("ion-title",[n._v("Password checking")])],1)],1),n._v(" "),e("ion-content",{staticClass:"content",attrs:{padding:""}},[e("ion-list",[e("ion-item",[e("ion-icon",{directives:[{name:"show",rawName:"v-show",value:!n.showPwd,expression:"!showPwd"}],attrs:{slot:"start",name:"lock"},slot:"start"}),n._v(" "),e("ion-icon",{directives:[{name:"show",rawName:"v-show",value:n.showPwd,expression:"showPwd"}],attrs:{slot:"start",name:"unlock"},slot:"start"}),n._v(" "),e("ion-input",{attrs:{type:n.pwdType,value:n.pwd,placeholder:"Password"},on:{input:function(t){n.pwd=t.target.value}}}),n._v(" "),e("ion-button",{directives:[{name:"show",rawName:"v-show",value:n.pwd,expression:"pwd"}],attrs:{slot:"end",fill:"clear",size:"small"},on:{click:n.togglePwdType},slot:"end"},[n._v("\n                    "+n._s(n.showPwdText)+"\n                ")])],1)],1),n._v(" "),e("ion-button",{attrs:{expand:"full",type:"submit",disabled:!n.validatePwd()},on:{click:n.checkHash}},[n.requestPending?e("span",[e("ion-spinner")],1):e("span",[n._v("Have I been pwned?")])]),n._v(" "),e("ion-button",{on:{click:n.goToAcc}},[n._v("go to account page")])],1)],1)},staticRenderFns:[]};var f=e("VU/8")(m,w,!1,function(n){e("d7nY")},null,null).exports,g={name:"home",methods:{goToAcc:function(){this.$glob.nav.push(v)},goToPwd:function(){this.$glob.nav.push(f)}}},b={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ion-page",{staticClass:"ion-page"},[e("ion-header",[e("ion-toolbar",[e("ion-buttons",{attrs:{slot:"start"},slot:"start"},[e("ion-back-button")],1),n._v(" "),e("ion-title",[n._v("home")])],1)],1),n._v(" "),e("ion-content",{staticClass:"content",attrs:{padding:""}},[e("ion-button",{attrs:{expand:"full",type:"submit"},on:{click:n.goToAcc}},[n._v("\n            Check Account\n        ")]),n._v(" "),e("ion-button",{attrs:{expand:"full",type:"submit"},on:{click:n.goToPwd}},[n._v("\n            Check Password\n        ")])],1)],1)},staticRenderFns:[]};var _=e("VU/8")(g,b,!1,function(n){e("zMlu")},null,null).exports,P=e("//Fk"),y=e.n(P),x=e("BO1k"),k=e.n(x);var C={attachViewToDom:function(n,t,e,o){var a,i=document.createElement(function(n){return n.classList.contains("modal-wrapper")}(a=n)||function(n){return"ION-NAV"===n.tagName.toUpperCase()}(a)?"ion-page":"div");n.appendChild(i);var s=(new(r.a.extend(t))).$mount(i);if(o){var c=!0,u=!1,l=void 0;try{for(var d,p=k()(o);!(c=(d=p.next()).done);c=!0){var h=d.value;s.$el.classList.add(h)}}catch(n){u=!0,l=n}finally{try{!c&&p.return&&p.return()}finally{if(u)throw l}}}return y.a.resolve(s.$el)},removeViewFromDom:function(n,t){return t.hasOwnProperty("__vue__")&&t.__vue__.$destroy(),n.removeChild(t),y.a.resolve()}};var T={newNavController:function(n){var t=this;return s()(a.a.mark(function e(){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A("ion-nav","ion-app");case 2:return(r=t.sent).root=n,t.abrupt("return",r);case 5:case"end":return t.stop()}},e,t)}))()},newAlertController:function(n){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.newAbstractController("ion-alert-controller",n));case 1:case"end":return e.stop()}},e,t)}))()},newLoadingController:function(n){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.newAbstractController("ion-loading-controller",n));case 1:case"end":return e.stop()}},e,t)}))()},newAbstractController:function(n,t){var e=this;return s()(a.a.mark(function r(){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n);case 2:return o=e.sent,e.next=5,o.create(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},r,e)}))()}};function A(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",e=function(n,t){var e=void 0;if(e=document.querySelector(n))return e;return t.appendChild(document.createElement(n))}(n,document.querySelector(t));return e.delegate=C,e.componentOnReady()}var N={api:T,nav:T.newNavController(_).then(function(n){return N.nav=n}),install:function(){Object.defineProperty(r.a.prototype,"$glob",{get:function(){return N}})}};r.a.use(N),r.a.config.ignoredElements=[/^ion-/]},d7nY:function(n,t){},zMlu:function(n,t){}},["NHnr"]);
//# sourceMappingURL=app.3568356fe82a9ae4da61.js.map